<% content_for(:title, t('.title')) %>
<div class="maxboard-container flex-column">
  <%# <div>
      <%= link_to '掲示板', boards_path, class: 'board-btn' %>
  
  <article id="board<%= @board.id %>" class="board-show-container flex-column">
    <h3><%= @board.board_title %></h3>



    <% if @board.item %>
      <% case @board.item.image_choice %>
      <% when 'item_image' %>
        <%= image_tag @board.item.item_image.url, class: "user-profileicon" %>
      <% when 'item_canvas' %>
        <img src="<%= @board.item.item_canvas %>" alt="Canvas Image" style="object-fit: contain;" class="user-profileicon" >
      <% else %>
        <div class="no-image-icon">No Image</div>
      <% end %>
    <% else %>
      <div class="board-no-image-icon">No Image</div>
    <% end %>






    <p><%= @board.comments_count %> comments</p>
    
<div class="content motto-miru user-show-comment-contents">
  <%# <span class="comment-text"><i class="bi bi-film"></i>内容</span> %>
  <% text = @board.board_text.present? ? @board.board_text : 'No Episode' %>
  <% lines = text.split("\n") %>
  <% preview_text = lines.first(3).join("\n") %>
  <% preview_text = preview_text.length > 80 ? preview_text.first(80) : preview_text %>
  <% if text.length > 80 or lines.length > 3 %>
    <span class="default-view">
      <%= simple_format(preview_text + '。。。') %>
    </span>
    <span class="hidden-view" style="display: none;">
      <%= simple_format text %>
    </span>
    <div class="toggle-view">もっと見る</div>
  <% else %>
    <span>
      <%= simple_format text %>
    </span>
  <% end %>
</div>


    

  </article>


    <%= render 'comments/form', comment: @comment, board: @board %>
    <div class="row">
      <div class="col-lg-8 offset-lg-2">
        <table class="table">
          <tbody id="table-comment">
            <%= render @comments %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


